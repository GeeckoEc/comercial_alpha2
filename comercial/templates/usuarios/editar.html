<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro Usuario</title>
  {% include 'includes/header.html' %}
</head>

<body>
  {% include 'includes/menu.html' %}
  <div class="container">
    <div class="row mt-5 pt-5">
      <h1>Editar usuario</h1>

      {% if error %}
      <div class="alert alert-dismissible alert-danger">
        {% else %}
        <div class="alert alert-dismissible alert-danger d-none">
          {% endif %}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          {{ error }}
        </div>

        <form action="" method="POST">

          {% csrf_token %}

          <div class="row my-3">
            <div class="col">
              <div class="form-floating">

                <input type="text" name="nombre" id="nombre" class="form-control" placeholder="nombre" value="{{ campos.nombre }}">
                <label for="nombre">Nombre</label>
              </div>
            </div>
            <div class="col">
              <div class="form-floating">
                <input type="text" name="apellido" id="apellido" class="form-control" placeholder="apellido" value="{{ campos.apellido }}">
                <label for="apellido">Apellido</label>
              </div>

            </div>
          </div>
          <div class="row">

            <div class="col">
              <div class="form-floating">
                <input type="text" name="usuario" id="usuario" class="form-control" placeholder="usuario" value="{{ campos.usuario }}">
                <label for="usuario">Usuario</label>
              </div>
            </div>
            <div class="col">
              <div class="form-floating">
                <input type="email" name="email" id="email" class="form-control" placeholder="email" value="{{ campos.email }}">
                <label for="email">Correo electrónico</label>
              </div>
            </div>

          </div>

          <div class="row my-3">
            <div class="col">
              <div class="form-floating">
                <input type="password" name="password" id="password" class="form-control" placeholder="password" value="{{ campos.password }}">
                <label for="password">Contraseña</label>
              </div>
            </div>
            <div class="col">
              <div class="form-floating">
                <input type="password" name="password2" id="password2" class="form-control" placeholder="password2" value="{{ campos.password2 }}">
                <label for="password2">Repetir contraseña</label>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col pe-0">
              <div class="form-floating">
                <select name="rol" id="rol" class="form-select" placeholder="rol">
                  <option value="Administrador" {% if campos.rol == 'Adminstrador' %} selected {% endif %}>Administrador</option>
                  {% for rol in roles %}
                  <option value="{{ rol.name }}" {% if campos.rol == rol.name %} selected {% endif %}>{{ rol.name }}</option>
                  {% endfor %}
                </select>
                <label for="rol">Mostrar roles</label>
              </div>
            </div>

            <div class="col">
              <div class="d-grid">
                <button class="btn btn-lg btn-primary" type="submit">Actualizar usuario</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
</body>
{% include 'includes/scripts.html' %}

</html>
